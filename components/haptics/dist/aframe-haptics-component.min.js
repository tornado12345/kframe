!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("haptics",{dependencies:["tracked-controls"],schema:{actuatorIndex:{default:0},dur:{default:100},enabled:{default:!0},events:{type:"array"},eventsFrom:{type:"string"},force:{default:1}},multiple:!0,init:function(){var e=(this.data,this);if(this.callPulse=function(){e.pulse()},this.el.components["tracked-controls"].controller){if(this.gamepad=this.el.components["tracked-controls"].controller,this.gamepad.gamepad&&(this.gamepad=this.gamepad.gamepad),!this.gamepad||!this.gamepad.hapticActuators||!this.gamepad.hapticActuators.length)return;this.addEventListeners()}else this.el.addEventListener("controllerconnected",function(){setTimeout(function(){e.gamepad=e.el.components["tracked-controls"].controller,e.gamepad.gamepad&&(e.gamepad=e.gamepad.gamepad),e.gamepad&&e.gamepad.hapticActuators&&e.gamepad.hapticActuators.length&&e.addEventListeners()},150)})},remove:function(){this.removeEventListeners()},pulse:function(e,t){var a,n=this.data;n.enabled&&this.gamepad&&this.gamepad.hapticActuators&&(a=this.gamepad.hapticActuators[n.actuatorIndex],a.pulse(e||n.force,t||n.dur))},addEventListeners:function(){var e,t,a=this.data;for(t=a.eventsFrom?document.querySelector(a.eventsFrom):this.el,e=0;e<a.events.length;e++)t.addEventListener(a.events[e],this.callPulse)},removeEventListeners:function(){var e,t,a=this.data;for(t=a.eventsFrom?document.querySelector(a.eventsFrom):this.el,e=0;e<a.events.length;e++)t.removeEventListener(a.events[e],this.callPulse)}})}]);